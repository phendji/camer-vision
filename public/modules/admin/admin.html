<div class="page-admin">
    <div class="row">
    	<div id="wrapper">

	        <div id="page-wrapper">

            <div class="row bloc-txt">
              <div class="col-lg-12">
                <nav class="nav-nav">
                 
                  <!-- Nav tabs -->
                  <ul class="nav nav-tabs nav-icons" role="tablist">
                    <li class="active" role="presentation">
                      <a class="" href ng-click="resetNav('propositions')" aria-controls="profile" role="tab" data-toggle="tab" data-tabgenerate="true">
                        <i class="glyphicon glyphicon-stats">  </i> PROPOSITIONS
                      </a>
                    </li>
                    <li role="presentation">
                      <a class="" href ng-click="resetNav('contributeurs')" aria-controls="profile" role="tab" data-toggle="tab" data-tabgenerate="true">
                        <i class="glyphicon glyphicon-user">  </i> CONTRIBUTEURS
                      </a>
                    </li>
                    <li role="presentation">
                      <a class="" href ng-click="resetNav('unkown')" aria-controls="profile" role="tab" data-toggle="tab" data-tabgenerate="true">
                        <i class="fa fa-user-times" aria-hidden="true"></i> </i> INCONNU
                      </a>
                    </li>
                  </ul>

                  <div id="viewerDashboardProposition" role="tabpanel" class="panel-proposition tab-pane" >
                    <div class="col-lg-12">
                      <h3 class="page-header"><i class="fa fa-dashboard fa-fw">  </i> Dashboard</h3>
                    </div>
                    <div class="col-lg-12">
                      <div class="panel panel-default">
                          <div class="panel-heading">Toutes les propositions</div>
                          <div class="panel-body">
                              <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-proposition">
                                  <thead>
                                    <tr>
                                      <th>Id</th>
                                      <th>Contributeur</th>
                                      <th>Enoncé</th>
                                      <th>Solution</th>
                                      <th>Publier</th>
                                      <th>Date Création</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr class="odd" ng-repeat="proposition in propositionIdUserNotNull track by $index" ng-click="viewDetailProposition(proposition)">
                                      <td>{{proposition.id}}</td>
                                      <td>
                                        <p>{{proposition.user.nom}}</p>
                                        <p>{{proposition.user.prenom}}</p>
                                      </td>
                                      <td>{{proposition.problematique}}</td>
                                      <td>{{proposition.solution}}</td>
                                      <td>{{proposition.status  == '0' ? "Dépublier" : "Publier"}}</td>
                                      <td>{{proposition.created_at}}</td>
                                    </tr>                           
                                  </tbody>
                              </table>
                          </div>
                      </div>
                    </div>
                  </div>

                  <div id="viewerDashboardContributeurs" role="tabpanel" class="panel-contributeurs tab-pane" >
                    <div class="col-lg-12">
                      <p class="page-header" style="font-size: 14px">
                        <button type="button" class="btn btn-sm"><i class="fa fa-envelope" aria-hidden="true"></i> Send newsletter</button>
                      </p>
                    </div>

                    <div class="col-lg-12">
                      <div class="panel panel-default">
                          <div class="panel-heading">Toutes les propositions</div>
                          <div class="panel-body">
                              <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-proposition">
                                  <thead>
                                    <tr>
                                      <th>id</th>
                                      <th>Prénom Nom</th>
                                      <th>Sexe</th>
                                      <th>Email</th>
                                      <th>Ville</th>
                                      <th>Pays</th>
                                      <th>Date Création</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr class="odd" ng-repeat="user in users track by $index">
                                      <td>{{user.id}}</td>
                                      <td>{{user.prenom}} v</p>
                                      </td>
                                      <td>{{user.sexe}}</td>
                                      <td>{{user.email}}</td>
                                      <td>{{user.ville}}</td>
                                      <td>{{user.pays}}</td>
                                      <td>{{user.created_at}}</td>
                                    </tr>                           
                                  </tbody>
                              </table>
                          </div>
                      </div>
                    </div>
                  </div>

                   <div id="viewerDashboardPropositionNull" role="tabpanel" class="panel-proposition tab-pane" >
                    <!-- <div class="col-lg-12">
                      <h3 class="page-header"><i class="fa fa-dashboard fa-fw">  </i> </h3>
                    </div> -->
                    <div class="col-lg-12">
                      <div class="panel panel-default">
                          <div class="panel-heading">Toutes les propositions Inconnu</div>
                          <div class="panel-body">
                              <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-proposition">
                                  <thead>
                                    <tr>
                                      <th>Id</th>
                                      <th>Contributeur</th>
                                      <th>Enoncé</th>
                                      <th>Solution</th>
                                      <th>Publier</th>
                                      <th>Date Création</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr class="odd" ng-repeat="proposition in propositionIdUserNull track by $index">
                                      <td>{{proposition.id}}</td>
                                      <td>
                                        <p>{{proposition.user.nom}}</p>
                                        <p>{{proposition.user.prenom}}</p>
                                      </td>
                                      <td>{{proposition.problematique}}</td>
                                      <td>{{proposition.solution}}</td>
                                      <td>{{proposition.status  == '0' ? "Dépublier" : "Publier"}}</td>
                                      <td>{{proposition.created_at}}</td>
                                    </tr>                           
                                  </tbody>
                              </table>
                          </div>
                      </div>
                    </div>
                  </div>

                </nav>
              </div>
            </div>

            
	        </div>
	        <!-- /#page-wrapper -->

	    </div>
    <!-- /#wrapper -->
    </div>
</div>

<!-- Modal -->
<div id="modalViewProposition" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Détail de la proposition</h4>
      </div>
      <div class="modal-body" style="padding: 20px 20px">
      	<div class="row">
      		<div class="col-sm-12" style="margin-bottom: 20px">
      			<p class="" style="color: #ae3925">Enoncé du problème :</p>
            <textarea ng-model="modal.problematique" name="problematique" rows="3" style="width: 100%"></textarea>
      		</div>
      		<div class="col-sm-12" style="margin-bottom: 20px">
      			<p class="" style="color: #ae3925">Solution proposée :</p>
            <textarea ng-model="modal.solution" name="solution" rows="3" style="width: 100%"></textarea>
      		</div>
      		<div class="col-sm-12" style="margin-bottom: 20px">
            <a ng-class="modal.status == false ? 'publier' : 'depublier'" ng-model="modal.status" ng-click="publierOrDeplier(modal.id)" style="width: 60px; height: 20px; padding: 6px 10px;">
              {{modal.status == false ? 'Publier' : 'Dépublier'}}
            </a>
            <button  style="float: right;" ng-click="updatePropositionByAdmin()" class="btn" >Enregistrer</button>
      		</div>
      	</div>
      </div>

    </div>

  </div>
</div>